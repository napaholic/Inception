server {
		listen 443 ssl default_server;
		listen [::]:443 ssl default_server;
		server_name jaewkim.42.fr;

		index index.php index.html index.htm;
		root /var/www/wordpress;

		ssl on;
		ssl_certificate /etc/ssl/certs/jaewkim.crt;
		ssl_certificate_key /etc/ssl/private/jaewkim.key;
		ssl_protocols TLSv1.3;

		location / {
				try_files $uri $uri/ /index.php$is_args$args;
		}

		location ~ \.php$ {
				try_files $uri =404; #nginx는 정적 파일 호스팅을 기본적으로 지원하지 않기에, root 폴더 내에 uri 에 따른 폴더가 있는지 찾아보고, 만약 없다면 404 에러를 보여줍니다.
				fastcgi_split_path_info ^(.+\.php)(/.+)$;
				fastcgi_pass wordpress:9000; #FastCGI 서버의 주소를 설정합니다. 주소는 도메인 이름 또는 IP 주소와 포트로 지정할 수 있습니다.
				fastcgi_index index.php; #URI 끝에 인덱스 지정
				include fastcgi_params; #nginx 내부 환경변수 사용설정 $_SERVER 변수로 확인가능 SCRIPT_FILENAM PATH_INFO 기본변수들 사용하도록 설정.
				fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
				fastcgi_param PATH_INFO $fastcgi_path_info;
		}
}
